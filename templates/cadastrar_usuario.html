{% extends 'base.html' %}

{% block content %}
  <div class="container mt-5">
    <h3 class="mb-4">Cadastrar Novo Usu√°rio</h3>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('cadastrar_usuario') }}">
      <div class="mb-3">
        <label for="nome" class="form-label">Nome</label>
        <input type="text" class="form-control" name="nome" id="nome" value="{{ nome or '' }}" required>
      </div>

      <div class="mb-3">
        <label for="login" class="form-label">Login</label>
        <input type="text" class="form-control" name="login" id="login" value="{{ login or '' }}" required>
      </div>

      <div class="mb-3">
        <label for="senha" class="form-label">Senha</label>
        <input type="password" class="form-control" name="senha" id="senha" required>
      </div>

      <div class="mb-3">
        <label for="perfil" class="form-label">Perfil</label>
        <select class="form-select" name="perfil" id="perfil">
          <option value="COMUM" {% if perfil == 'COMUM' %}selected{% endif %}>COMUM</option>
          <option value="ADM" {% if perfil == 'ADM' %}selected{% endif %}>ADM</option>
        </select>
      </div>

      <button type="submit" class="btn btn-success">Cadastrar</button>
      <a href="{{ url_for('lista_usuarios') }}" class="btn btn-secondary">Cancelar</a>
    </form>
  </div>
{% endblock %}