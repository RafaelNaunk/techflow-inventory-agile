{% extends 'base.html' %}

{% block title %}Lista de Usuários{% endblock %}

{% block content %}
  <div class="container mt-5">
    <h3 class="mb-4">Lista de Usuários</h3>

    <!-- Mensagens flash -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="alert alert-warning">
          <ul class="mb-0">
            {% for category, msg in messages %}
              <li>{{ msg }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
    {% endwith %}

    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Nome</th>
          <th>Login</th>
          <th>Perfil</th>
        </tr>
      </thead>
      <tbody>
        {% for u in usuarios %}
        <tr>
          <td>{{ u.id }}</td>
          <td>{{ u.nome }}</td>
          <td>{{ u.login }}</td>
          <td>{{ u.perfil }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}